SPRING_BOOT_VERSION=3.5.6
JAVA_VERSION=17
NODE_VERSION=20

# ==================== PUERTOS ====================
# Infraestructura
EUREKA_PORT=8761
GATEWAY_PORT=8080

# Microservicios
AUTH_SERVICE_PORT=8082
EMAIL_SERVICE_PORT=8083
AUDIT_SERVICE_PORT=8084
MATRICULAS_SERVICE_PORT=8085

# Bases de Datos PostgreSQL
POSTGRES_AUTH_PORT=5432
POSTGRES_AUDIT_PORT=5433
POSTGRES_MATRICULAS_PORT=5434

# Mensajería
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672
KAFKA_PORT=9092
KAFKA_UI_PORT=9093
ZOOKEEPER_PORT=2181

# Frontend
FRONTEND_PORT=5173

# ==================== POSTGRESQL ====================
# Credenciales comunes
POSTGRES_USER=postgres
POSTGRES_PASSWORD=admin

# Bases de datos específicas
AUTH_DB_NAME=auth_db
AUDIT_DB_NAME=audit_db
MATRICULAS_DB_NAME=matriculas_db

# Configuración de pool de conexiones
DB_POOL_SIZE=10
DB_MIN_IDLE=5
DB_MAX_LIFETIME=1800000
DB_CONNECTION_TIMEOUT=30000

# ==================== RABBITMQ ====================
RABBITMQ_DEFAULT_USER=admin
RABBITMQ_DEFAULT_PASS=admin
RABBITMQ_DEFAULT_VHOST=/

# Colas y exchanges
RABBITMQ_EMAIL_QUEUE=email.queue
RABBITMQ_EMAIL_EXCHANGE=email.exchange
RABBITMQ_EMAIL_ROUTING_KEY=email.routing.key

# ==================== KAFKA ====================
KAFKA_BROKER_ID=1
KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://kafka:29092,PLAINTEXT_HOST://localhost:9092
KAFKA_LISTENER_SECURITY_PROTOCOL_MAP=PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT
KAFKA_INTER_BROKER_LISTENER_NAME=PLAINTEXT
KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1
KAFKA_TRANSACTION_STATE_LOG_MIN_ISR=1
KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR=1

# Topics
KAFKA_AUDIT_TOPIC=audit.events
KAFKA_USER_REGISTERED_TOPIC=user.registered
KAFKA_FACULTY_CREATED_TOPIC=faculty.created

# Consumer groups
KAFKA_AUDIT_CONSUMER_GROUP=audit-service-group

# ==================== EUREKA SERVER ====================
EUREKA_INSTANCE_HOSTNAME=eureka-server
EUREKA_CLIENT_REGISTER_WITH_EUREKA=false
EUREKA_CLIENT_FETCH_REGISTRY=false
EUREKA_SERVER_WAIT_TIME_ON_SHUTDOWN=0
EUREKA_SERVER_EVICTION_INTERVAL_TIMER=5000

# ==================== AUTH SERVICE ====================
AUTH_SERVICE_NAME=auth-service
AUTH_DB_HOST=postgres-auth
AUTH_DB_PORT=5432
AUTH_DB_URL="jdbc:postgresql://${AUTH_DB_HOST}:${AUTH_DB_PORT}/${AUTH_DB_NAME}"

# JWT Configuration
JWT_SECRET=mi-clave-secreta-super-segura-de-256-bits-para-produccion-cambiar-esto-en-produccion-por-favor
JWT_EXPIRATION=86400000
JWT_REFRESH_EXPIRATION=604800000

# Security
BCRYPT_STRENGTH=10

# ==================== EMAIL SERVICE ====================
EMAIL_SERVICE_NAME=email-service
EMAIL_ENABLED=true
EMAIL_SIMULATION_MODE=true

# SMTP Configuration (para producción)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=noreply@university.com
SMTP_PASSWORD=change-me
SMTP_AUTH=true
SMTP_STARTTLS_ENABLE=true

# ==================== AUDIT SERVICE ====================
AUDIT_SERVICE_NAME=audit-service
AUDIT_DB_HOST=postgres-audit
AUDIT_DB_PORT=5432
AUDIT_DB_URL="jdbc:postgresql://${AUDIT_DB_HOST}:${AUDIT_DB_PORT}/${AUDIT_DB_NAME}"

# ==================== MATRICULAS SERVICE ====================
MATRICULAS_SERVICE_NAME=matriculas-service
MATRICULAS_DB_HOST=postgres-matriculas
MATRICULAS_DB_PORT=5432
MATRICULAS_DB_URL="jdbc:postgresql://${MATRICULAS_DB_HOST}:${MATRICULAS_DB_PORT}/${MATRICULAS_DB_NAME}"

# ==================== API GATEWAY ====================
GATEWAY_SERVICE_NAME=api-gateway
GATEWAY_EUREKA_URL=http://eureka-server:8761/eureka/

# CORS Configuration
CORS_ALLOWED_ORIGINS="http://localhost:${FRONTEND_PORT},http://frontend:80"
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
CORS_ALLOWED_HEADERS=*
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=3600

# ==================== SPRING BOOT COMMON ====================
SPRING_PROFILES_ACTIVE=docker
SPRING_JPA_HIBERNATE_DDL_AUTO=update
SPRING_JPA_SHOW_SQL=false
SPRING_JPA_PROPERTIES_HIBERNATE_FORMAT_SQL=true
SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT=org.hibernate.dialect.PostgreSQLDialect

# ==================== ACTUATOR ====================
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics,prometheus
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=always

# ==================== LOGGING ====================
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_APP=DEBUG
LOGGING_LEVEL_WEB=INFO
LOGGING_LEVEL_SQL=DEBUG
LOGGING_LEVEL_KAFKA=INFO
LOGGING_LEVEL_RABBITMQ=INFO

# ==================== FRONTEND ====================
VITE_API_BASE_URL="http://localhost:${GATEWAY_PORT}"
VITE_APP_NAME=Sistema de Matrículas Universitarias
VITE_APP_VERSION=1.0.0
VITE_ENABLE_LOGS=true

# ==================== DOCKER ====================
COMPOSE_PROJECT_NAME=university-system
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# Healthcheck intervals
HEALTHCHECK_INTERVAL=30s
HEALTHCHECK_TIMEOUT=10s
HEALTHCHECK_RETRIES=3
HEALTHCHECK_START_PERIOD=40s

# Restart policy
RESTART_POLICY=unless-stopped

# ==================== TIMEOUTS Y RETRIES ====================
SERVICE_STARTUP_TIMEOUT=120
DB_CONNECTION_RETRY_ATTEMPTS=5
DB_CONNECTION_RETRY_INTERVAL=5

# Circuit Breaker (para futuras implementaciones)
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60000
CIRCUIT_BREAKER_RESET_TIMEOUT=30000